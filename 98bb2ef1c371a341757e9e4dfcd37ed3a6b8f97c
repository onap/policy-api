{
  "comments": [
    {
      "key": {
        "uuid": "50ae0c90_b89ad19e",
        "filename": "main/src/main/java/org/onap/policy/api/main/service/PdpGroupService.java",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 2787
      },
      "writtenOn": "2022-02-22T08:42:59Z",
      "side": 1,
      "message": "And here, the code is very similar to line 61 to 68, maybe it would be possible to create a common method that could be called to do either of the checks.",
      "revId": "98bb2ef1c371a341757e9e4dfcd37ed3a6b8f97c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87e1e6ed_7bb5e592",
        "filename": "main/src/main/java/org/onap/policy/api/main/service/ToscaServiceTemplateService.java",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 6070
      },
      "writtenOn": "2022-02-22T11:37:04Z",
      "side": 1,
      "message": "Hi Rashmi, Just a clarification if we use the delete method from ServiceTemplateRespository, would it delete the corresponding policy entity from policy table? I wonder wouldn\u0027t it be for deleting the entire service template?",
      "range": {
        "startLine": 281,
        "startChar": 39,
        "endLine": 281,
        "endChar": 49
      },
      "revId": "98bb2ef1c371a341757e9e4dfcd37ed3a6b8f97c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd11ff1c_fda429ed",
        "filename": "main/src/main/java/org/onap/policy/api/main/service/ToscaServiceTemplateService.java",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 4903
      },
      "writtenOn": "2022-02-22T13:07:12Z",
      "side": 1,
      "message": "Agree with Ramesh. But, this deleteById is probably going to delete nothing as there is no entry in the toscaServicetemplate table with the policyKey as primary key.\n@Rashmi You need separate repository for JpaToscaPolicy/JpaToscaPolicyType etc. For e.g., here what we do today is, JpaToscaServiceTemplate is updated by removing the policies (single entry in the ToscaServiceTemplate table is updated this way), and the corresponding JpaToscaPolicy entryis fully removed from the ToscaPolicy table.\nSame comment in other places like deletePolicyType.",
      "parentUuid": "87e1e6ed_7bb5e592",
      "range": {
        "startLine": 281,
        "startChar": 39,
        "endLine": 281,
        "endChar": 49
      },
      "revId": "98bb2ef1c371a341757e9e4dfcd37ed3a6b8f97c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e44d471f_d0822ac9",
        "filename": "main/src/main/java/org/onap/policy/api/main/service/ToscaServiceTemplateService.java",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 159
      },
      "writtenOn": "2022-02-22T13:48:28Z",
      "side": 1,
      "message": "Ah yes indeed you are right. There is no entry for that key in the ToscaServiceTemplate, same for deletePolicy. I will take a second look and fix them all. Thanks",
      "parentUuid": "dd11ff1c_fda429ed",
      "range": {
        "startLine": 281,
        "startChar": 39,
        "endLine": 281,
        "endChar": 49
      },
      "revId": "98bb2ef1c371a341757e9e4dfcd37ed3a6b8f97c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de14eddf_b6ce4728",
        "filename": "main/src/main/java/org/onap/policy/api/main/service/ToscaServiceTemplateService.java",
        "patchSetId": 1
      },
      "lineNbr": 370,
      "author": {
        "id": 6070
      },
      "writtenOn": "2022-02-22T13:17:18Z",
      "side": 1,
      "message": "Also another question here. Are we going to use simpleToscaProvider for fetching the cascaded policies? Should we use repository and perform this operation?",
      "range": {
        "startLine": 370,
        "startChar": 32,
        "endLine": 370,
        "endChar": 51
      },
      "revId": "98bb2ef1c371a341757e9e4dfcd37ed3a6b8f97c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da9a9274_bdcc6826",
        "filename": "main/src/main/java/org/onap/policy/api/main/service/ToscaServiceTemplateService.java",
        "patchSetId": 1
      },
      "lineNbr": 370,
      "author": {
        "id": 4903
      },
      "writtenOn": "2022-02-22T13:48:02Z",
      "side": 1,
      "message": "No, getCascadedPolicies is just a utility method, it is not talking to DB.",
      "parentUuid": "de14eddf_b6ce4728",
      "range": {
        "startLine": 370,
        "startChar": 32,
        "endLine": 370,
        "endChar": 51
      },
      "revId": "98bb2ef1c371a341757e9e4dfcd37ed3a6b8f97c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46703826_0fc66650",
        "filename": "main/src/main/java/org/onap/policy/api/main/service/ToscaServiceTemplateService.java",
        "patchSetId": 1
      },
      "lineNbr": 370,
      "author": {
        "id": 6070
      },
      "writtenOn": "2022-02-22T14:00:01Z",
      "side": 1,
      "message": "okay. Probably we may need to move this method to util class incase we remove the providers in future.",
      "parentUuid": "da9a9274_bdcc6826",
      "range": {
        "startLine": 370,
        "startChar": 32,
        "endLine": 370,
        "endChar": 51
      },
      "revId": "98bb2ef1c371a341757e9e4dfcd37ed3a6b8f97c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}
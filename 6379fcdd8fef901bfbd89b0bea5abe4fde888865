{
  "comments": [
    {
      "key": {
        "uuid": "2f02f529_d8751d87",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 137,
      "author": {
        "id": 1441
      },
      "writtenOn": "2019-04-09T15:24:53Z",
      "side": 1,
      "message": "Liam, there is @NotNull for ToscaPolicyIdentifier.version. Can we allow version to be null as when I use it for getting deployed policies, I don\u0027t know the deployed version. So simply put it null as what highlighted this line but it will raise NullPointerException.",
      "range": {
        "startLine": 137,
        "startChar": 21,
        "endLine": 137,
        "endChar": 62
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba9f7558_770e3aee",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 137,
      "author": {
        "id": 2787
      },
      "writtenOn": "2019-04-09T16:17:22Z",
      "side": 1,
      "message": "Jim Hahn wrote that class. Can you consult with him?",
      "parentUuid": "2f02f529_d8751d87",
      "range": {
        "startLine": 137,
        "startChar": 21,
        "endLine": 137,
        "endChar": 62
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43e4d374_7805e5d8",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 137,
      "author": {
        "id": 1441
      },
      "writtenOn": "2019-04-09T17:14:20Z",
      "side": 1,
      "message": "Jim, Can we remove @NotNull for version in ToscaPolicyIdentifier? I have one api to retrieve deployed policy versions. This api aims to get the version so we don\u0027t know the version in advance,",
      "parentUuid": "ba9f7558_770e3aee",
      "range": {
        "startLine": 137,
        "startChar": 21,
        "endLine": 137,
        "endChar": 62
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "693d83d6_8e522218",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 137,
      "author": {
        "id": 811
      },
      "writtenOn": "2019-04-09T17:58:38Z",
      "side": 1,
      "message": "ToscaPolicyIdentifier purposely requires both a name and version.  ToscaPolicyIdentifierOptVersion accepts a null version.  However, the method, matchPoliciesExactly(), implies that it must exactly match, which implies both id \u0026 version.  Perhaps we want another flavor of matching?  Or the policList() method could be modified to accept a list of ToscaPolicyIdentifierOptVersion.",
      "parentUuid": "43e4d374_7805e5d8",
      "range": {
        "startLine": 137,
        "startChar": 21,
        "endLine": 137,
        "endChar": 62
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3efc9da_0fed45ea",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 137,
      "author": {
        "id": 1441
      },
      "writtenOn": "2019-04-09T18:47:32Z",
      "side": 1,
      "message": "Do I actually need to set matchPoliciesExactly for this purpose? I don\u0027t quite get this flag.",
      "parentUuid": "693d83d6_8e522218",
      "range": {
        "startLine": 137,
        "startChar": 21,
        "endLine": 137,
        "endChar": 62
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd9473b1_e56da53b",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 143,
      "author": {
        "id": 2787
      },
      "writtenOn": "2019-04-09T12:45:29Z",
      "side": 1,
      "message": "You search PdpGroups with a filter on the policy ids that that you want to find with matchPolicyExactly set to false. That will give you back a lit of all PDP groups that have the any of the policies deployed that you have on your policy list",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 143,
        "endChar": 104
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "42995ba9_b7a6e52f",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 143,
      "author": {
        "id": 1441
      },
      "writtenOn": "2019-04-09T13:40:40Z",
      "side": 1,
      "message": "Right. That is precisely what I did above except setting matchPoliciesExactly to false. But how can I get List\u003cToscapPolicy\u003e that are deployed in those pdp groups? We aim to return Map\u003cPair\u003cString, String\u003e, List\u003cToscaPolicy\u003e\u003e",
      "parentUuid": "bd9473b1_e56da53b",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 143,
        "endChar": 104
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "61608fb0_fefa0def",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 143,
      "author": {
        "id": 2787
      },
      "writtenOn": "2019-04-09T14:18:48Z",
      "side": 1,
      "message": "You have the information right there in the PDPGroups that are returned. You need to search the returned object, something along the lines of:\n\nList\u003cToscaPolicy\u003e deployedPolicies \u003d new ...blah....\n\nfor (PdpGroup pdpGroup: returnedPdpgroupList) {\n   for (PdpSubGroup pdpSubGroup : pdpGroup.getPdpSubgroups() {\n    deployedPolicy\u003eist.add(....the ID of the policy deployed on the subgroup)\n}\n}",
      "parentUuid": "42995ba9_b7a6e52f",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 143,
        "endChar": 104
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c116052_0a3d3db5",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 143,
      "author": {
        "id": 1441
      },
      "writtenOn": "2019-04-09T15:24:53Z",
      "side": 1,
      "message": "Got you. thx!",
      "parentUuid": "61608fb0_fefa0def",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 143,
        "endChar": 104
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "52c5d2c6_4c10e470",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 187,
      "author": {
        "id": 811
      },
      "writtenOn": "2019-04-09T17:58:38Z",
      "side": 1,
      "message": "seems like we could eliminate this query if deletePolicy() returned true/false to indicate found/not-found.",
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "768dd81e_385ff1a3",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 187,
      "author": {
        "id": 1441
      },
      "writtenOn": "2019-04-09T18:47:32Z",
      "side": 1,
      "message": "good catch. will eliminate in next patch",
      "parentUuid": "52c5d2c6_4c10e470",
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4344ba5e_5aa73709",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 192,
      "author": {
        "id": 2787
      },
      "writtenOn": "2019-04-09T12:45:29Z",
      "side": 1,
      "message": "You should send back the parameters of what you were deleting in the response message, that is something like \"Could not delete policy with ID someName:someVersion.\n\nSending back \"resource not found\" on a 404 doesn\u0027t really give the user any more help.\n\nSame comment for other response messages.",
      "range": {
        "startLine": 192,
        "startChar": 22,
        "endLine": 192,
        "endChar": 38
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b2f95bf_db22587a",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 192,
      "author": {
        "id": 1441
      },
      "writtenOn": "2019-04-09T13:40:40Z",
      "side": 1,
      "message": "Good comment, will fix in new patch",
      "parentUuid": "4344ba5e_5aa73709",
      "range": {
        "startLine": 192,
        "startChar": 22,
        "endLine": 192,
        "endChar": 38
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2801928c_70ce9f26",
        "filename": "main/src/main/java/org/onap/policy/api/main/rest/provider/PolicyTypeProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 2787
      },
      "writtenOn": "2019-04-09T12:45:29Z",
      "side": 1,
      "message": "Same comment",
      "range": {
        "startLine": 76,
        "startChar": 66,
        "endLine": 76,
        "endChar": 84
      },
      "revId": "6379fcdd8fef901bfbd89b0bea5abe4fde888865",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}